/* ============================================
   UI IMPROVEMENTS: Enhanced Readability & Visual Hierarchy
   Issue #733: UI Improvements for PictoPy Documentation
   ============================================ */

/* Improved spacing and alignment for better visual hierarchy */
.md-typeset {
  line-height: 1.7;
  letter-spacing: 0.01em;
  color: rgba(0, 0, 0, 0.87);
}

/* Dark mode text color adjustments */
[data-md-color-scheme="slate"] .md-typeset {
  color: rgba(255, 255, 255, 0.87);
}

/* Enhanced readability of text and headings */
.md-typeset h1 {
  margin-top: 1.5em;
  margin-bottom: 0.75em;
  font-weight: 600;
  line-height: 1.3;
  letter-spacing: -0.02em;
}

.md-typeset h2 {
  margin-top: 1.75em;
  margin-bottom: 0.875em;
  font-weight: 600;
  line-height: 1.35;
  letter-spacing: -0.01em;
  padding-bottom: 0.5em;
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}

.md-typeset h3 {
  margin-top: 1.5em;
  margin-bottom: 0.75em;
  font-weight: 600;
  line-height: 1.4;
}

.md-typeset h4 {
  margin-top: 1.25em;
  margin-bottom: 0.625em;
  font-weight: 600;
  line-height: 1.45;
}

.md-typeset h5,
.md-typeset h6 {
  margin-top: 1em;
  margin-bottom: 0.5em;
  font-weight: 600;
  line-height: 1.5;
}

/* Better contrast and clarity for content blocks */
.md-typeset p {
  margin-bottom: 1.25em;
  line-height: 1.75;
}

.md-typeset ul,
.md-typeset ol {
  margin-bottom: 1.25em;
  padding-left: 1.75em;
}

.md-typeset li {
  margin-bottom: 0.5em;
  line-height: 1.7;
}

.md-typeset li > p {
  margin-bottom: 0.5em;
}

/* Improved spacing for nested lists */
.md-typeset ul ul,
.md-typeset ol ol,
.md-typeset ul ol,
.md-typeset ol ul {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

/* Better contrast and clarity for code blocks */
.md-typeset pre {
  margin-top: 1em;
  margin-bottom: 1.5em;
  padding: 1.25em 1.5em;
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.md-typeset code {
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-size: 0.9em;
}

.md-typeset pre code {
  padding: 0;
  border-radius: 0;
}

/* Enhanced readability for blockquotes */
.md-typeset blockquote {
  margin: 1.5em 0;
  padding: 1em 1.5em;
  border-left: 4px solid;
  border-radius: 0 4px 4px 0;
  background-color: rgba(0, 0, 0, 0.02);
}

.md-typeset blockquote p {
  margin-bottom: 0.75em;
}

.md-typeset blockquote p:last-child {
  margin-bottom: 0;
}

/* Better spacing for tables */
.md-typeset table {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
  border-collapse: collapse;
  border-radius: 6px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.md-typeset table th {
  padding: 0.875em 1em;
  font-weight: 600;
  text-align: left;
  background-color: rgba(0, 0, 0, 0.05);
}

.md-typeset table td {
  padding: 0.75em 1em;
  border-top: 1px solid rgba(0, 0, 0, 0.08);
}

.md-typeset table tbody tr:hover {
  background-color: rgba(0, 0, 0, 0.02);
}

/* Improved spacing and alignment for admonitions */
.md-typeset .admonition {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.md-typeset .admonition-title {
  margin-bottom: 0.75em;
  font-weight: 600;
  padding: 0.75em 1em;
  border-radius: 6px 6px 0 0;
}

.md-typeset .admonition-content {
  padding: 0 1em 1em 1em;
}

.md-typeset .admonition-content p:last-child {
  margin-bottom: 0;
}

/* Better spacing for horizontal rules */
.md-typeset hr {
  margin: 2em 0;
  border: none;
  border-top: 2px solid rgba(0, 0, 0, 0.1);
}

/* Improved spacing for definition lists */
.md-typeset dl {
  margin-bottom: 1.25em;
}

.md-typeset dt {
  font-weight: 600;
  margin-top: 1em;
  margin-bottom: 0.5em;
}

.md-typeset dd {
  margin-left: 1.5em;
  margin-bottom: 0.75em;
}

/* Enhanced readability for links */
.md-typeset a {
  text-decoration: underline;
  text-underline-offset: 0.2em;
  transition: all 0.2s ease;
  color: inherit;
  font-weight: 500;
}

.md-typeset a:hover {
  opacity: 0.8;
  text-decoration-thickness: 2px;
}

/* Better link colors in dark mode */
[data-md-color-scheme="slate"] .md-typeset a {
  color: rgba(255, 255, 255, 0.9);
}

/* Better spacing for images */
.md-typeset img {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.12);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.md-typeset img:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

/* Center aligned images */
.md-typeset img[style*="center"],
.md-typeset img[style*="margin: 0 auto"] {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

/* Improved spacing for the main content area */
.md-content {
  padding-top: 1.5em;
  padding-bottom: 2em;
  max-width: 100%;
}

/* Better container spacing */
.md-main__inner {
  margin-top: 1rem;
}

/* Improved article spacing */
.md-typeset article {
  padding-bottom: 2em;
}

/* Better visual hierarchy for navigation sections */
.md-typeset > div[style*="display:flex"] {
  margin-top: 2em;
  margin-bottom: 2em;
  gap: 1.5em;
}

.md-typeset > div[style*="display:flex"] > div {
  padding: 1.5em 1.25em;
  border-radius: 8px;
  background-color: rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(0, 0, 0, 0.08);
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.md-typeset > div[style*="display:flex"] > div:hover {
  background-color: rgba(0, 0, 0, 0.04);
  border-color: rgba(0, 0, 0, 0.12);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

/* Dark mode adjustments for flex containers */
[data-md-color-scheme="slate"] .md-typeset > div[style*="display:flex"] > div {
  background-color: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.1);
}

[data-md-color-scheme="slate"] .md-typeset > div[style*="display:flex"] > div:hover {
  background-color: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.15);
}

.md-typeset > div[style*="display:flex"] > div h2 {
  margin-top: 0;
  margin-bottom: 1em;
  border-bottom: none;
  padding-bottom: 0;
  font-size: 1.2em;
  font-weight: 600;
}

.md-typeset > div[style*="display:flex"] > div ul {
  margin-bottom: 0;
  padding-left: 0;
  list-style: none;
}

.md-typeset > div[style*="display:flex"] > div ul li {
  margin-bottom: 0.5em;
  padding-left: 1em;
  position: relative;
}

.md-typeset > div[style*="display:flex"] > div ul li::before {
  content: 'â€¢';
  position: absolute;
  left: 0;
  color: rgba(0, 0, 0, 0.4);
  font-weight: 600;
}

[data-md-color-scheme="slate"] .md-typeset > div[style*="display:flex"] > div ul li::before {
  color: rgba(255, 255, 255, 0.5);
}

.md-typeset > div[style*="display:flex"] > div ul li a {
  font-weight: 400;
  transition: color 0.2s ease;
  text-decoration: none;
  color: inherit;
}

.md-typeset > div[style*="display:flex"] > div ul li a:hover {
  color: var(--md-primary-fg-color, #ef4444);
  text-decoration: underline;
  text-underline-offset: 0.2em;
}

/* ============================================
   SIDEBAR NAVIGATION IMPROVEMENTS
   ============================================ */

/* Enhanced sidebar navigation styling */
.md-nav__link {
  padding: 0.5em 0.75em;
  border-radius: 4px;
  transition: background-color 0.2s ease;
  margin: 0.125em 0;
}

.md-nav__link:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

[data-md-color-scheme="slate"] .md-nav__link:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Active navigation item styling */
.md-nav__link--active {
  background-color: rgba(239, 68, 68, 0.1);
  color: var(--md-primary-fg-color, #ef4444);
  font-weight: 600;
}

[data-md-color-scheme="slate"] .md-nav__link--active {
  background-color: rgba(239, 68, 68, 0.15);
}

/* ============================================
   END OF UI IMPROVEMENTS
   ============================================ */

.md-typeset .admonition-title {
  margin-bottom: 10px;
  
}

.md-header__button.md-logo img {
  width: 34px;
  height: auto;
}

.md-header__button.md-logo {
  display: flex;
  align-items: center;

  padding-right: 0;     
  margin-right: 0;      
}
 
.md-header__title {
  margin-left: 8px !important;  
}

/* Responsive tweaks: ensure header, images, tables and code blocks behave well on small screens */

/* Make images scale down to container */
.md-typeset img,
.md-content img {
  max-width: 100%;
  height: auto;
}

/* Tables should be scrollable on small screens */
.md-typeset table {
  width: 100%;
  display: block;
  overflow-x: auto;
}

/* Code blocks should wrap/scroll gracefully */
.md-typeset pre {
  white-space: pre-wrap; /* allow wrapping */
  word-break: break-word;
  overflow-x: auto;
}

/* General container/content spacing adjustments for smaller screens */
.md-main, .md-content {
  padding-left: 1rem;
  padding-right: 1rem;
}

/* Tablet and small laptop */
@media (max-width: 768px) {
  .md-header__button.md-logo img {
    width: 28px;
    height: auto;
  }

  .md-header__button.md-logo {
    padding-right: 6px;
    margin-right: 6px;
  }

  .md-header__title {
    margin-left: 6px !important;
    font-size: 1rem;
    white-space: normal;
  }

  /* Allow header inner area to wrap so items don't overflow */
  .md-header__inner {
    flex-wrap: wrap;
    align-items: center;
    gap: 6px;
  }

  /* Slightly reduce padding for main content */
  .md-main {
    padding: 0.5rem 0.75rem;
  }

  /* Make navigation easier to tap */
  .md-nav {
    margin-top: 8px;
  }
}

/* Small phones */
@media (max-width: 480px) {
  .md-header__button.md-logo img {
    width: 24px;
  }

  .md-header__title {
    font-size: 0.95rem;
  }

  .md-header__title a {
    font-size: 0.95rem;
  }

  /* Ensure actions align to the right and don't push content */
  .md-header__actions {
    margin-left: auto;
  }

  .md-nav {
    font-size: 0.95rem;
  }

  .md-content {
    padding: 0.75rem;
  }

  .md-typeset .admonition-title {
    font-size: 0.95rem;
  }
}

/* Specific fix for the home page's 4-column inline HTML layout in docs/index.md.
   The page uses inline styles (display:flex and width:25% on children). These rules
   add wrapping and force child blocks to become full-width on narrow screens.
*/
.md-typeset > div[style*="display:flex"] {
  display: flex !important;
  flex-wrap: wrap !important;
  justify-content: center !important;
  gap: 0.5rem;
}

.md-typeset > div[style*="display:flex"] > div {
  width: 25% !important;
  box-sizing: border-box !important;
  padding-left: 0.5rem !important;
  padding-right: 0.5rem !important;
}

@media (max-width: 900px) {
  /* On tablets and small laptops, use two columns */
  .md-typeset > div[style*="display:flex"] > div {
    width: 50% !important;
  }
}

@media (max-width: 540px) {
  /* On phones, make each section full-width (stack vertically) */
  .md-typeset > div[style*="display:flex"] > div {
    width: 100% !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  .md-typeset > div[style*="display:flex"] h2 {
    text-align: left;
    margin-left: 0.25rem;
  }
}

/* Swagger UI / OpenAPI responsive fixes */
/* The API page includes a <swagger-ui> web component whose internal layout
   can overflow on small screens. These rules make summaries wrap and ensure
   panels and code samples are scrollable instead of overlapping. */
.swagger-ui,
.swagger-ui * {
  box-sizing: border-box;
}

.swagger-ui .topbar {
  flex-wrap: wrap;
}

.swagger-ui .info .title,
.swagger-ui .info .description {
  word-break: break-word;
}

.swagger-ui .opblock-summary {
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
}

.swagger-ui .opblock .opblock-summary-method,
.swagger-ui .opblock .opblock-summary-path {
  white-space: normal;
}

/* Make operations and parameters area scroll horizontally instead of overlapping */
.swagger-ui .opblock-body,
.swagger-ui .parameters {
  overflow-x: auto;
}

/* Ensure code samples are responsive */
.swagger-ui pre, .swagger-ui code {
  white-space: pre-wrap;
  word-break: break-word;
}

/* Smaller devices: stack operation summary elements and increase spacing */
@media (max-width: 720px) {
  .swagger-ui .opblock-summary {
    flex-direction: column;
    align-items: stretch;
  }
  .swagger-ui .opblock .opblock-summary-path {
    font-size: 0.95rem;
  }
}

/* Redoc-specific fixes in case the component renders Redoc */
.redoc-wrap, .redoc {
  max-width: 100%;
}
.redoc .menu-content, .redoc .operations-wrapper {
  overflow-x: auto;
}

/* Scoped: Force a 500px "fixed" layout only for the Python backend API page.
   The wrapper `.api-500-wrapper` is added to `docs/backend/backend_python/api.md`.
   Only this page will use a 500px min-width and allow horizontal scrolling on
   very small viewports so other pages remain normal.
*/
@media (max-width: 500px) {
  .api-500-wrapper {
    min-width: 500px !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
    box-sizing: border-box;
  }

  /* Ensure Swagger/Redoc components inside the wrapper respect the min-width */
  .api-500-wrapper .swagger-ui,
  .api-500-wrapper .redoc,
  .api-500-wrapper .redoc-wrap {
    min-width: 500px !important;
  }

  /* Keep code blocks and tables inside the API wrapper readable; they will scroll inside the pane */
  .api-500-wrapper table,
  .api-500-wrapper pre,
  .api-500-wrapper code {
    min-width: 500px;
    overflow-x: auto;
  }
}

/* When API page is active, also constrain header/footer to the same 500px
   so the entire visible page appears as a 500px layout (header/footer included).
   This is only applied when the body has the `.api-fixed-500` class which is
   added by a small inline script on the API page. */
@media (max-width: 500px) {
  body.api-fixed-500 {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Constrain header, main and footer to the same 500px pane so they appear
     consistent when the API page forces a fixed layout on small viewports. */
  body.api-fixed-500 .md-header,
  body.api-fixed-500 header,
  body.api-fixed-500 .md-main,
  body.api-fixed-500 .md-footer,
  body.api-fixed-500 footer {
    width: 500px !important;
    min-width: 500px !important;
    margin: 0 auto !important;
    box-sizing: border-box !important;
    overflow: visible !important;
  }

  /* Ensure inner containers within header/footer stretch to the 500px width */
  body.api-fixed-500 .md-header__inner,
  body.api-fixed-500 .md-footer__inner,
  body.api-fixed-500 .md-footer-nav,
  body.api-fixed-500 .md-footer__copyright {
    width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Adjust header inner alignment so actions remain visible within the 500px pane */
  body.api-fixed-500 .md-header__inner {
    justify-content: space-between;
  }

  /* Center the wrapper itself */
  .api-500-wrapper {
    margin: 0 auto;
  }
}

@media (max-width: 600px) {
  /* Center the social container itself */
  .md-social,
  .md-footer .md-social {
    text-align: center !important;
    display: block !important;
  }

  /* Center copyright text */
  .md-copyright,
  .md-footer .md-footer__copyright {
    text-align: center !important;
    display: block !important;
  }

  /* Keep social links inline and add small horizontal spacing */
  .md-social a,
  .md-footer .md-social a {
    display: inline-block !important;
    margin: 0 0.25rem !important;
    vertical-align: middle !important;
  }
}

.md-footer-meta__inner.md-grid {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 0.25rem !important;
  text-align: center !important;
}

.md-footer-meta__inner.md-grid .md-social {
  display: block !important;
}

.md-footer-meta__inner.md-grid .md-social a {
  display: inline-block !important;
  margin: 0 0.25rem !important;
}

/* Center only the copyright line without affecting social icons */
.md-footer .md-copyright,
.md-footer-meta__inner.md-grid .md-copyright {
  display: block !important;
  width: 100% !important;
  text-align: center !important;
  margin: 0.25rem 0 !important;
}

.md-footer .md-social,
.md-footer-meta__inner.md-grid .md-social {
  display: inline-block !important;
  vertical-align: middle !important;
}

/* ============================================
   ADDITIONAL UI ENHANCEMENTS FOR ISSUE #733
   ============================================ */

/* Improved section dividers */
.md-typeset hr {
  margin: 3em 0;
  border: none;
  border-top: 2px solid rgba(0, 0, 0, 0.12);
  opacity: 0.6;
}

[data-md-color-scheme="slate"] .md-typeset hr {
  border-top-color: rgba(255, 255, 255, 0.12);
}

/* Better spacing for nested content */
.md-typeset > *:first-child {
  margin-top: 0;
}

.md-typeset > *:last-child {
  margin-bottom: 0;
}

/* Enhanced code block styling */
.md-typeset pre code {
  font-size: 0.875em;
  line-height: 1.6;
}

/* Better contrast for inline code */
.md-typeset code:not(pre code) {
  background-color: rgba(0, 0, 0, 0.05);
  padding: 0.15em 0.4em;
  border-radius: 4px;
  font-weight: 500;
}

[data-md-color-scheme="slate"] .md-typeset code:not(pre code) {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Improved list item spacing */
.md-typeset li + li {
  margin-top: 0.25em;
}

/* Better spacing for definition lists */
.md-typeset dl dt {
  color: inherit;
  font-weight: 600;
}

/* Enhanced table readability */
.md-typeset table tbody tr:nth-child(even) {
  background-color: rgba(0, 0, 0, 0.02);
}

[data-md-color-scheme="slate"] .md-typeset table tbody tr:nth-child(even) {
  background-color: rgba(255, 255, 255, 0.03);
}

/* Ensure list items in cards don't have default bullets */
.md-typeset > div[style*="display:flex"] > div ul[style*="list-style: none"],
.md-typeset > div[style*="display:flex"] > div ul[style*="padding-left: 0"] {
  list-style: none !important;
  padding-left: 0 !important;
}

/* Better spacing for page title */
.md-typeset h1:first-child {
  margin-top: 0;
  margin-bottom: 0.5em;
}

/* Improved content flow */
.md-typeset p + p {
  margin-top: 1em;
}

/* Enhanced blockquote styling */
.md-typeset blockquote {
  font-style: italic;
  border-left-width: 4px;
}

/* Better spacing for nested lists */
.md-typeset li ul,
.md-typeset li ol {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

/* Improved spacing for setup sections */
.md-typeset h2 + p,
.md-typeset h3 + p,
.md-typeset h4 + p {
  margin-top: 0.5em;
}

/* Enhanced readability for numbered lists */
.md-typeset ol {
  counter-reset: list-counter;
}

.md-typeset ol > li {
  counter-increment: list-counter;
  position: relative;
}

/* Better visual separation for sections */
.md-typeset h2 {
  scroll-margin-top: 2rem;
}

.md-typeset h3 {
  scroll-margin-top: 1.5rem;
}






